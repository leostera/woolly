import { useCallback, useEffect, useState, useRef } from "preact/hooks";

export default function Gibberish(props) {
  let requestIdRef = useRef<number>();
  let [counter, setCounter] = useState(20000);
  let strokeDashoffset = `${counter}`;

  function update(timestamp: number) {
    let offset = 20000 - timestamp;
    if (offset > 15000) {
      setCounter(offset);
      requestIdRef.current = globalThis.requestAnimationFrame(update);
    }
  }


  useEffect(() => {
    requestIdRef.current = globalThis.requestAnimationFrame(update);
    return () => {
      if (requestIdRef.current !== undefined) {
        globalThis.cancelAnimationFrame(requestIdRef.current);
      }
    }
  }, [])


  return (
    <div style={{
      display: "flex",
      position: "fixed",
      width: "100vw",
      height: "100vw",
      top: 0,
      left: 0,
      flexDirection: "column",
      justifyContent: "center",
      alignItems: "center",
    }}>
<svg style={{
  strokeDashoffset: strokeDashoffset,
  strokeDasharray: "20000",
}}
width="1722" height="211" viewBox="0 0 1722 211" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.85488 124.052C-0.803121 113.884 20.063 101.533 27.7413 99.053C38.132 95.6968 48.6994 94.0175 59.5 92.5C70.3952 90.9692 82.5 90.4528 94 90.4528C111.471 91.9787 173.141 91.6134 156.303 123.585C151.929 131.889 128.339 144.608 117.107 137.894C107.046 131.881 136.407 121.646 138.725 121C159.887 115.101 204.508 116.534 225.2 108.108C248.617 98.5736 270.054 90.1997 287.461 71.7145C291.13 67.8185 306.528 55.2624 304.291 48.3848C302.265 42.1571 290.464 48.181 287.269 49.8984C277.965 54.8998 261.741 75.5468 269.026 87.0025C277.222 99.8939 294.138 98.0541 307.525 98.1891C333.379 98.4498 360.062 88.4707 385.845 90.4528C398.083 91.3936 409.15 94.5 421 99.5C427.5 102.5 432.613 110.579 435.636 116.676C438.259 121.965 442.371 131.272 435.512 134.411C427.506 138.075 418.417 142.812 409.15 140.349C396.793 137.065 429.039 122.051 432.836 121.008C444.964 117.679 456.904 123.225 468.902 120.056C485.08 115.783 501.275 110.944 514.953 101.132C523.322 95.129 531.414 87.2676 537.34 78.8352C542.342 71.7177 564.339 36.2656 561 26C560.938 25.8091 530.799 81.099 530.087 89.1555C528.354 108.783 556.238 94.1359 561 89.1555C568.293 81.5276 584.674 45.422 576 51.5C569.161 56.2925 560.461 92.4953 572.541 98.8577C583.69 104.729 613.104 41.0581 616.633 33.3164C614 23.5 583.815 74.8881 584.5 85.8404C585.357 99.5385 602.55 105.398 611.619 97.3104C614.8 94.474 628.371 70.7094 627.918 70.9901C622.734 74.2035 620.348 80.5686 617.761 85.8404C609.624 102.421 628.238 112.837 638.089 96.0413C641.947 89.4614 649.456 75.7705 648 67.9614C646.695 60.9661 642.712 59.4597 637.975 64.2433C630.517 71.7758 627.451 80.53 639.007 85.8403C646.918 89.4763 667.328 76.0123 670.523 69.9462C673.443 64.4012 666.062 73.9797 665.154 75.7037C661.841 81.9958 656.77 89.9322 660.5 97.3104C667.238 110.637 694 78.9901 691.225 66.0147C687 54.6165 677.125 65.1793 674.5 70.9901C672.844 74.6555 684.005 85.8403 690 87.103C701 92 705.824 87.5682 711.593 79.7995C718.437 70.5826 725.943 52.8753 727.943 46.8753C729.737 41.4944 734.5 25 727.943 30C718.804 36.969 710.239 57.5662 705.328 68.7431C703.261 73.4476 700.412 92.4696 706.408 96.0533C718.93 103.538 730.419 89.805 735.943 84.4462C747.084 73.6381 749.973 55.3753 752.943 46.8753C752.943 45.3753 757.249 30 752.943 30C749.148 30 743.943 46 740.714 56.1888C738.359 63.6216 728.943 85.4901 730.806 97.5404C729.956 101.933 739.779 100.93 744.5 99.4555C756 95.8636 770.066 78.5865 773.443 73.8232C776.819 69.0599 787.689 47.4569 780.182 48.1457C774.883 47.4223 767.31 78.1774 768 85.8403C769.676 104.465 777.54 99.2318 784.323 93.3352C791.402 87.1821 803.057 63.9497 803.057 54.5538C803.057 46.8753 799.5 51.4223 795.5 57.5269C784.967 77.5272 772.171 147.105 758.443 166C754.105 171.97 711.845 225.3 706.408 204.5C702.469 189.43 724.443 151.43 734.5 143.5C757.123 125.661 788.053 134.752 815 123.5C830.437 117.054 903.637 51.6409 920.5 64.2433C934.586 74.7702 925.5 89.5859 912.22 95.7375C904.823 99.1642 879.215 101.842 884.793 93.6627C888.713 87.9143 897.775 82.4991 903.935 79.2518C923.841 68.7567 950.303 72.743 971.86 69.071C998.992 64.4492 1031.77 49.2816 1051.4 30.9204C1058.62 24.1679 1073.31 14.4517 1077.9 5.74032C1081.75 -1.56789 1069.5 5.65975 1068.5 6.3429C1057.13 14.1151 1046.64 31.0309 1050.65 44.6658C1055.29 60.4361 1070.63 58.6182 1085.25 57.8377C1095.92 57.2681 1105.5 53.1148 1115.95 51.7883C1130.08 49.996 1144.66 48.462 1158.9 47.6397C1180.81 46.3739 1225.81 54.6567 1234.5 79.7995C1239.57 94.4671 1201.96 103.74 1210 89.5C1218.38 74.6581 1275.25 67.6847 1289.67 65.5085C1320.08 60.9199 1356.44 65.3727 1381.5 44.4368C1391.98 35.6867 1370.37 37.6624 1367.01 38.4434C1354.95 41.243 1353.14 49.3488 1363.81 56.834C1375.22 64.838 1429.38 70.1417 1442.29 69.9515C1459.58 69.6968 1479 69.9515 1499 67.9614C1530.5 64.1988 1517.46 62.9867 1547.75 64.1988C1574.05 65.2513 1600.48 64.7866 1626.73 67.2882C1658 70.268 1688.79 76.9073 1719.52 83.3342" stroke="#212121" stroke-width="2" stroke-linecap="round"/>
</svg>
    </div>
  );
}

